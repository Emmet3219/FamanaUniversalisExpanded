gadea_1 = {
	slot = 1
    generic = no
    ai = yes
    potential = {
		AND = {
			tag = GDA
			has_reform = gadea_reform
		}
	}
	has_country_shield = yes

	gadea_inroads_ga_xal = {
		position = 2
		icon = mission_market_place_with_asian_traders
		required_missions = { gadea_gain_allies }
		trigger = {
			is_neighbor_of = ALM
			diplomatic_reputation = 1
			total_development = 20
        }
		effect = {
			every_country = {
				limit = {
					is_rival = ALM
				}
				add_opinion = {
					who = ROOT
					modifier = enemy_of_my_enemy
				}
				reverse_add_opinion = {
					who = ROOT
					modifier = enemy_of_my_enemy
				}
			}
			add_mercantilism = 4
		}
	}

	gadea_pirates_of_maner = {
		position = 4
		icon = mission_establish_high_seas_navy
		required_missions = { gadea_wipe_heretics } #None
		trigger = {
			OR = {
				owns_core_province = 8857
				8857 = {
					owner = {
						is_subject_of = ROOT
					}
				}
			}
        }
		effect = {
			add_country_modifier = {
				name = gadea_naval
				duration = -1
			}
		}
	}

}

gadea_2 = {
	slot = 2
    generic = no
    ai = yes
    potential = {
		AND = {
			tag = GDA
			has_reform = gadea_reform
		}
    }
    has_country_shield = yes

	gadea_gain_allies = {
		position = 1
		icon = mission_alliances
		required_missions = {  } #None
		trigger = {
			num_of_allies = 2
        }
		effect = {
			add_country_modifier = {
				name = gadea_diplomacy
				duration = 3650
			}
		}
	}

	gadea_invade_maky = {
		position = 4
		icon = mission_cossack_cavalry
		required_missions = { gadea_wipe_heretics } #None
		trigger = {
			OR = {
				army_reformer = 1
				commandant = 1
				army_organiser = 1
			}
			development_in_provinces = {
				value = 25
			}
        }
		effect = {
			every_known_country = {
				limit = {
					capital_scope = {
						region = maky_region
					}
				}
				ROOT = {
					add_casus_belli = {
						target = PREV
						type = cb_convert_gadan
						months = 240
					}
				}
			}
		}
	}

	gadea_convert_maky = {
		position = 5
		icon = mission_hands_praying
		required_missions = { gadea_invade_maky }
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				region = maky_region
				religion = gadan
			}
        }
		effect = {
			custom_tooltip = GADEA_VASSAL_SWARM_HERE_TO_STAY_MAKY
			set_global_flag = Gadea_Vassal_Swarm_Maky
			hidden_effect = {
				every_country = {
					limit = {
						AND = {
							is_subject_of = ROOT
							is_subject_of_type = gadan_tributary_state
							capital_scope = {
								region = maky_region
							}
						}
					}
					ROOT = {
						create_subject = {
							subject_type = gadan_tributary_state_annexable
							subject = PREV
						}
					}
				}
			}
			add_country_modifier = {
				name = gadea_conquest_of_maky
				duration = 7300
			}
		}
	}

	gadea_expand_gadea = {
		position = 6
		icon = mission_monarch_in_throne_room
		required_missions = { gadea_convert_maky }
		trigger = {
			num_of_owned_provinces_with = {
				value = 6
				owned_by = ROOT
			}
			owns_core_province = 5140
			owns_core_province = 5407
			owns_core_province = 5161
        }
		effect = {
			add_country_modifier = {
				name = gadea_rapid_expansion
				duration = 3650
			}
		}
	}

	gadea_centralise_all_vassals = {
		position = 7
		icon = mission_have_two_subjects
		required_missions = { gadea_expand_gadea }
		trigger = {
			num_of_owned_provinces_with = {
				value = 6
				owned_by = ROOT
			}
			owns_core_province = 5140
			owns_core_province = 5407
			owns_core_province = 5161
        }
		effect = {
			custom_tooltip = GADEA_VASSAL_SWARM_HERE_TO_STAY_GLOBAL
			set_global_flag = Gadea_Vassal_Swarm_Annexable
			hidden_effect = {
				every_country = {
					limit = {
						AND = {
							is_subject_of = ROOT
							is_subject_of_type = gadan_tributary_state
						}
					}
					ROOT = {
						create_subject = {
							subject_type = gadan_tributary_state_annexable
							subject = PREV
						}
					}
				}
			}
		}
	}
}

gadea_3 = {
	slot = 3
    generic = no
    ai = yes
    potential = {
		AND = {
			tag = GDA
			has_reform = gadea_reform
		}
	}
	has_country_shield = yes

	gadea_council = {
		position = 2
		icon = mission_have_two_subjects
		required_missions = { gadea_gain_allies gadea_develop_holy_city }
		trigger = {
			hidden_trigger = { ai = no } #the ai shouldnt be capable of doing this. PLAYER ONLY!
			army_size = 6
			num_of_generals = 1
			num_of_owned_provinces_with = { #otherwise the player will suffer due to the disloyalty
				value = 2
				owned_by = ROOT
			}
        }
		effect = {
			custom_tooltip = GADEA_VASSAL_SWARM_FORMED
			hidden_effect = {
				every_known_country = {
					limit = {
						religion = gadan
					}
					country_event = {
						id = xalflavor_other.8
					}
				}
			}
		}
	}

	gadea_wipe_heretics = {
		position = 3
		icon = mission_unite_home_region
		required_missions = { gadea_council }
		trigger = {
			custom_trigger_tooltip = {
				tooltip = GADAN_SUBJUGATE_REGION
				all_known_country = {
					if = {
						limit = {
							religion = gadan
						}
						OR = {
							is_subject_of = GDA
							tag = GDA
						}
					}
				}
			}
        }
		effect = {
			custom_tooltip = GADEA_VASSAL_SWARM_HERE_TO_STAY
			set_global_flag = Gadea_Vassal_Swarm
		}
	}

	gadea_centralise = {
		position = 5
		icon = mission_european_church
		required_missions = { gadea_wipe_heretics }
		trigger = {
			all_country = {
				if = {
					limit = {
						is_subject_of = ROOT
					}
					NOT = { liberty_desire = 50 }
					has_opinion = {
						who = ROOT
						value = 50
					}
				}
			}
        }
		effect = {
			custom_tooltip = GADEA_INTEGRATED_VASSAL_SWARM
			set_global_flag = Gadea_Vassal_Swarm_Gadan
			hidden_effect = {
				every_country = {
					limit = {
						AND = {
							is_subject_of = ROOT
							is_subject_of_type = gadan_tributary_state
							capital_scope = {
								OR = {
									area = morsum_area
									area = mariana_area
									area = tsaj_area
									area = zeaf_area
									area = bava_area
									area = unnamed_area_9
								}
							}
						}
					}
					ROOT = {
						create_subject = {
							subject_type = gadan_tributary_state_annexable
							subject = PREV
						}
					}
				}
			}
		}
	}

	gadea_gadelis = {
		position = 8
		icon = mission_empire
		required_missions = { gadea_centralise_all_vassals gadea_morsum_for_peace gadea_centralise }
		trigger = {
			owns_core_province = 5409
			owns_core_province = 5161
			total_development = 50
        }
		effect = {
			change_tag = GDL
			if = {
				limit = {
					NOT = { government_rank = 2 }
				}
				set_government_rank = 2
			}
			add_country_modifier = {
				name = "centralization_modifier"
				duration = 7300
			}
			add_country_modifier = {
				name = gadea_gadelis
				duration = -1
			}
			add_prestige = 25
		}
	}
}

gadea_4 = {
	slot = 4
    generic = no
    ai = yes
    potential = {
		AND = {
			tag = GDA
			has_reform = gadea_reform
		}
    }
    has_country_shield = yes

	gadea_develop_holy_city = {
		position = 1
		icon = mission_eastern_european_city
		required_missions = {  } #None
		trigger = {
			5155 = {
				development = 15
			}
        }
		effect = {
			5155 = {
				add_province_modifier = {
					name = growth_of_gadea
					duration = 9125
				}
			}
		}
	}

	gadea_build_army = {
		position = 4
		icon = mission_assemble_an_army
		required_missions = { gadea_wipe_heretics } #None
		trigger = {
			army_size = 15
			num_of_generals = 2
        }
		effect = {
			add_country_modifier = {
				name = gadea_fortifications
				duration = -1
			}
			add_country_modifier = {
				name = gadean_army
				duration = 5475
			}
		}
	}

	gadea_conscript_from_subjects = {
		position = 5
		icon = mission_persian_soldiers
		required_missions = { gadea_build_army }
		trigger = {
			has_estate_privilege = estate_nobles_levies
			mil = 3
        }
		effect = {
			custom_tooltip = GADEA_MANPOWER_FROM_SUBJECTS
			hidden_effect = {
				every_subject_country = {
					ROOT = {
						add_manpower = 2
					}
				}
			}
			add_country_modifier = {
				name = gadea_subject_manpwoer
				duration = 3650
			}
		}
	}

	gadea_justify_ale_mea = {
		position = 6
		icon = mission_crusade_for_varna
		required_missions = { gadea_conscript_from_subjects }
		trigger = {
			army_size_percentage = 1
			num_of_owned_provinces_with = {
				value = 2
				has_building = fort_15th
			}
        }
		effect = {
			raise_war_taxes = yes
			mariana_area = {
				add_permanent_claim = ROOT
			}
			morsum_area = {
				add_permanent_claim = ROOT
			}
			if = {
				limit = {
					ALM = {
						exists = yes
					}
				}
				declare_war_with_cb = {
					who = ALM
					casus_belli = cb_conquest
				}
			}
			else = {
				custom_tooltip = FOCUS_BYPASSED
			}
		}
	}

	gadea_morsum_for_peace = {
		position = 7
		icon = mission_alliances
		required_missions = { gadea_justify_ale_mea }
		trigger = {
			OR = {
				AND = {
					is_in_war = {
						attacker_leader = ROOT
						defender_leader = ALM
						war_score = 35
					}
					if = { #makes sure Ale Mea owns Mariana and Morsum
						limit = {
							ALM = {
								owns_core_province = 5409
							}
						}
						controls = 5409
					}
					if = {
						limit = {
							ALM = {
								owns_core_province = 5411
							}
						}
						controls = 5411
					}
				}
				ALM = {
					OR = {
						exists = no
						NOT = {
							controls = 5411
						}
					}
				}
			}
        }
		effect = {
			if = {
				limit = {
					ALM = {
						OR = {
							exists = no
							NOT = {
								controls = 5411
							}
						}
					}
				}
				custom_tooltip = FOCUS_BYPASSED
			}
			else = {
				add_years_of_income = 1.5
				ALM = {
					release = MRS
					release = MAA
				}
				MRS = {
					change_religion = gadan
				}
				MAA = {
					change_religion = gadan
				}
			}
		}
	}
}

gadea_5 = {
	slot = 5
    generic = no
    ai = yes
    potential = {
		AND = {
			tag = GDA
			has_reform = gadea_reform
		}
	}
	has_country_shield = yes

	gadea_develop_gadan = {
		position = 2
		icon = mission_hanseatic_city
		required_missions = { gadea_develop_holy_city } #None
		trigger = {
			5155 = {
				num_of_times_improved = 5
				OR = {
					has_building = temple
					has_building = marketplace
				}
			}
			OR = {
				5159 = {
					num_of_times_improved = 5
				}
				5161 = {
					num_of_times_improved = 5
				}
			}
			OR = {
				5407 = {
					num_of_times_improved = 5
				}
				5153 = {
					num_of_times_improved = 5
				}
			}
			OR = {
				5156 = {
					num_of_times_improved = 5
				}
				5162 = {
					num_of_times_improved = 5
				}
			}
        }
		effect = {
			add_years_of_income = 0.5
			add_country_modifier = {
				name = gadea_mass_construction
				duration = 7300 #20 years
			}
		}
	}

	gadea_control_trade = {
		position = 4
		icon = mission_asian_trader
		required_missions = { gadea_wipe_heretics } #None
		trigger = {
			capital_scope = {
				has_most_province_trade_power = ROOT
				has_trader = ROOT
			}
        }
		effect = {
			add_years_of_income = 1
			add_country_modifier = {
				name = gadea_trade
				duration = 3650
			}
		}
	}
	gadea_build_up_region = {
		position = 5
		icon = mission_early_modern_university
		required_missions = { gadea_control_trade } #None
		trigger = {
			grown_by_development = 20
			num_of_owned_provinces_with = {
				value = 5
				num_of_buildings_in_province = 1
			}
        }
		effect = {
			define_advisor = {
				type = treasurer
				skill = 3
				discount = yes
			}
			change_government_reform_progress = 100
			add_prestige = 50
		}
	}
}